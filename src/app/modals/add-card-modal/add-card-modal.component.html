<!-- Add Flashcard Modal -->
<div class="modal fade" id="addFlashcardModal" tabindex="-1" aria-labelledby="addFlashcard" aria-hidden="true"
    [ngClass]="{ 'modal-dark': !isLightTheme, 'modal-light': isLightTheme }">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Add Flashcard</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form (ngSubmit)="createFlashcard()">
                    <!-- Question Input -->
                    <div class="mb-3">
                        <label for="questionInput" class="form-label">Question:</label>
                        <input type="text" class="form-control rounded-pill" id="questionInput"
                            [(ngModel)]="newFlashcard.question" name="question" placeholder="Enter the question"
                            required />
                    </div>

                    <!-- Answer Input -->
                    <div class="mb-3">
                        <label for="answerInput" class="form-label">Answer:</label>
                        <input type="text" class="form-control rounded-pill" id="answerInput"
                            [(ngModel)]="newFlashcard.answer" name="answer" placeholder="Enter the answer" required />
                    </div>

                    <!-- Category Select -->
                    <div class="mb-3">
                        <label class="form-label" for="inputGroupSelect01">Category:</label>
                        <select class="form-select rounded-pill" id="inputGroupSelect01"
                            [(ngModel)]="newFlashcard.category" name="category" required>
                            <option selected disabled>Choose...</option>
                            <!-- Iterar sobre las categorías existentes -->
                            <option *ngFor="let category of categories" [value]="category.category_name">
                                {{ category.category_name }}
                            </option>
                            <!-- Opción para agregar una nueva categoría -->
                            <option value="add-new">Add another category</option>
                        </select>
                    </div>

                    <!-- Add New Category Input -->
                    <div *ngIf="newFlashcard.category === 'add-new'" class="mb-3">
                        <label for="newCategoryInput" class="form-label">New Category:</label>
                        <div class="input-group">
                            <input type="text" id="newCategoryInput" class="form-control rounded-pill"
                                [(ngModel)]="newCategoryName" name="newCategoryName"
                                placeholder="Enter new category name" />
                            <button type="button" class="btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2 border-0 bg-transparent" (click)="addCategory()">
                                <i class="fas fa-pen"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Difficulty Level -->
                    <div class="mb-3">
                        <label class="form-label d-block">Difficulty Level:</label>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" [(ngModel)]="newFlashcard.difficulty"
                                name="difficulty" id="easy" value="easy" required />
                            <label class="form-check-label" for="easy">Easy</label>
                        </div>

                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" [(ngModel)]="newFlashcard.difficulty"
                                name="difficulty" id="intermediate" value="intermediate" />
                            <label class="form-check-label" for="intermediate">Intermediate</label>
                        </div>

                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" [(ngModel)]="newFlashcard.difficulty"
                                name="difficulty" id="hard" value="hard" />
                            <label class="form-check-label" for="hard">Hard</label>
                        </div>
                    </div>

                    <!-- Modal Footer -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary rounded-pill w-25" data-bs-dismiss="modal">
                            Close
                        </button>
                        <button type="submit" class="btn btn-primary rounded-pill w-25">
                            Add
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>